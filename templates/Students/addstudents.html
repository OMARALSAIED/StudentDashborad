{% extends "base.html" %}

{% block title %}
Add Student
{% endblock title %}
{% block body %}

<div class="container mt-3">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card bg-dark text-light p-4 shadow">

        <h4 class="text-center text-success mb-4">Add Student</h4>

        {% with messages=get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
                        {{message}}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form action="/students" method="post" class="needs-validation" novalidate>

        
          <div class="mb-3">
            <label for="departmentID">Select Department:</label>
            <select name="departmentID" class="form-select">
                {% for department in departments %}
                    <option value="{{ department.departmentID }}">{{ department.name }}</option>
                {% endfor %}
            </select>
        </div>
          <div class="form-group">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-control" id="address" name="address" pattern="[A-Za-z]+[0-9A-Za-z]*" title="Please enter a letter first, followed by numbers or additional letters." required>
            <div class="invalid-feedback">Please enter a valid description.</div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="cardID">Card ID</label>
                <input type="number" class="form-control" name="cardID" id="cardID" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="nationalID">National ID</label>
                <input type="number" class="form-control" name="nationalID" id="nationalID" required>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="gender">Gender</label>
                <select class="form-control" id="gender" name="gender" required>
                  <option selected disabled>Select Gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="fullname">Fullname</label>
                <input type="text" class="form-control" name="fullname" id="fullname" required>
              </div>
            </div>
          </div>

          <!-- Additional form fields -->
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="DateOfBirth">Date of Birth</label>
                <input type="date" class="form-control" name="DateOfBirth" id="DateOfBirth" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="enrollmentDate">Enrollment Date</label>
                <input type="date" class="form-control" name="enrollmentDate" id="enrollmentDate" required>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="phoneNumber">Phone Number</label>
                <input type="number" class="form-control" name="phoneNumber" id="phoneNumber" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" name="email" id="email" required>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" name="password" id="password" required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="MAC">MAC</label>
                <input type="text" class="form-control" name="MAC" id="MAC" required>
              </div>
            </div>
          </div>
<br>
          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-success btn-block">+ Add New Student</button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>

{% endblock body %}